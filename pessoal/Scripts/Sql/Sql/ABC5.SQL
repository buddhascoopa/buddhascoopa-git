rem DELETE SYS.PLAN_TABLE WHERE STATEMENT_ID='ABC5';
rem COMMIT;
rem EXPLAIN PLAN SET STATEMENT_ID='ABC5' INTO SYS.PLAN_TABLE FOR
SELECT S.ROWID,
L.INTERFACE_LINE_ID,
L.REQUEST_ID,
L.LAST_UPDATE_LOGIN, 
L.LAST_UPDATED_BY
FROM  ar.RA_INTERFACE_SALESCREDITS_ALL S,
      ar.RA_INTERFACE_LINES_ALL L
WHERE  L.REQUEST_ID = 87604
AND    L.LINE_TYPE = 'LINE'
AND    L.INTERFACE_LINE_CONTEXT = 'ORDER ENTRY'
AND    L.INTERFACE_LINE_CONTEXT = S.INTERFACE_LINE_CONTEXT
AND    L.INTERFACE_LINE_ATTRIBUTE1 = S.INTERFACE_LINE_ATTRIBUTE1
AND    L.INTERFACE_LINE_ATTRIBUTE2 = S.INTERFACE_LINE_ATTRIBUTE2
AND    L.INTERFACE_LINE_ATTRIBUTE3 = S.INTERFACE_LINE_ATTRIBUTE3
AND    L.INTERFACE_LINE_ATTRIBUTE4 = S.INTERFACE_LINE_ATTRIBUTE4
AND    L.INTERFACE_LINE_ATTRIBUTE5 = S.INTERFACE_LINE_ATTRIBUTE5
AND    L.INTERFACE_LINE_ATTRIBUTE6 = S.INTERFACE_LINE_ATTRIBUTE6
AND    L.INTERFACE_LINE_ATTRIBUTE7 = S.INTERFACE_LINE_ATTRIBUTE7
/
col options for a15
col operation for a50
col linhas for a15
select lpad('.',2*(level-1))||operation operation,
       options,
       object_name
--       DECODE(id,0,'Custo = '||position,cardinality) Linhas
from sys.plan_table
start with id = 0 and statement_id = 'ABC5'
connect by prior id = parent_id and statement_id = 'ABC5'
/
